{% extends 'profile.html' %}
{% load static i18n %}

{% block title %}{% trans 'Protection Patters' %}{% endblock %}

{% block css %}
  {{block.super }}
  <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
{% endblock %}

{% block section %}
  <form method="post">{% csrf_token %}
    <div class="checkbox">
      <label>
        <input
          type="checkbox" {% if profile.has_protection_patterns %}checked{% endif %}
          data-toggle="toggle" name="has_protection_patterns">{% trans 'Enable protection patterns' %}
      </label>
    </div>
    <hr />
    {% for pp in protection_patterns %}
      <div class="form-check">
        <input type="hidden" value="{{ pp.code }}" name="pp_code">
        <input type="checkbox" class="form-check-input" id="ppEnabled-{{ pp.code }}" name="pp_enabled:{{ pp.code }}"
          {% if pp.profile %}checked{% endif %}
        >
        <label class="form-check-label" for="exampleCheck1">{{ pp.description }}</label>
      </div>
      <input type="text"
        value="{{ pp.expires_on|date:"Y-m-d"|default_if_none:"" }}"
        name="expires_on" class="form-control datepicker dateinput form-control">
    {% endfor %}
    <input class="btn btn-primary" type="submit" name="save" value="{% trans 'Save' %}">
  </from>
{% endblock %}

{% block javascript %}
  {{block.super }}
  <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
{% endblock %}

