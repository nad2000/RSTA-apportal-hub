{% extends 'base.html' %}

{% load i18n tags %}

{% block content %}

  <h1>
    {{ object }}
  </h1>

  <div class="table-responsive">
  <table class="table table-bordered searchable">
    <tbody>

      {% for field in object|fields %}
        {% if field.name != 'id' and exclude is None or field.name not in exclude %}
          {% if object|field_value:field.name %}
          <tr>
            <th style="width: 21%; min-width: 160px; max-width: 180px;">{{ field.verbose_name|title }}</th>
            <td>
              {% if field.name == "summary" %}
                {{ object|field_value:field.name|safe }}
                {% if field|is_file_field %}
                  <a href="{{ object|field_file_url:field.name }}" target="_blank">{{ object|field_file_name:field.name }}</a>
                {% else %}
                  {% trans 'N/A' %}
                {% endif %}
              {% else %}
                {{ object|field_value:field.name }}
              {% endif %}
            </td>
          </tr>
          {% endif %}
        {% endif %}
      {% endfor %}

    </tbody>
  </table>
  </div>
  {% if extra_object %}
  <h1>
    {{ extra_object }}
  </h1>

  <div class="table-responsive">
  <table class="table table-bordered searchable">
    <tbody>

      {% for field in extra_object|fields %}
        {% if field.value and field.name != 'id' and exclude is None or field.name not in exclude %}
          <tr>
            <th  class="table-dark" scope="row" style="width: 21%; min-width: 160px; max-width: 180px;">
              {{ field.verbose_name|title }}
            </th>
            <td>
              {% if field.name == "summary" %}
                {{ extra_object|field_value:field.name|safe }}
              {% else %}
                {{ extra_object|field_value:field.name }}
              {% endif %}
            </td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
  </div>
  {% endif %}

  {% if update_view_name %}
    <a class="btn btn-primary" href="{% url update_view_name pk=object.pk %}">{% trans update_button_name %}</a>
  {% endif %}
  {% if export_button_view_name %}
    <a class="btn btn-primary" href="{% url export_button_view_name pk=object.pk %}">{% trans 'Export' %}</a>
  {% endif %}
{% endblock %}
